@model Municipal_Servcies_Portal.ViewModels.DashboardStatsViewModel
@{
    ViewData["Title"] = "Home Page";
}

    <link rel="stylesheet" href="~/css/home.css" asp-append-version="true" />

<main class="main">
    <section class="section header">
        <h1 class="welcome-title">Welcome to Municipal Services</h1>
        <p class="welcome-desc">
            Access city services, report issues, and stay connected with your community. Choose from the options below to get started.
        </p>
    </section>
    <section class="section cards">
        <div class="card report-issues">
            <div class="icon-bg blue">
                <img src="~/images/icons/ic_hazard.svg" alt="Hazard Icon" width="32" height="32" />
            </div>
            <h3 class="card-title">Report Issues</h3>
            <p class="card-desc">
                Report potholes, broken
                streetlights, graffiti, and
                other municipal issues in
                your neighborhood.
            </p>
            <button class="card-btn primary" id="ReportIssueBtn">Get Started</button>
        </div>
        <div class="card report-issues">
            <div class="icon-bg blue">
                <img src="~/images/icons/ic_calendar.svg" alt="Calendar Icon" width="32" height="32" />
            </div>
            <h3 class="card-title">Local Events</h3>
            <p class="card-desc ">
                Discover upcoming
                community events, town
                halls, and public meetings
                in your area.
            </p>
            <button class="card-btn primary" id="LocalEventsBtn">Get Started</button>
        </div>
        <div class="card report-issues">
            <div class="icon-bg blue">
                <img src="~/images/icons/ic_service_request.svg" alt="Service Request Icon" width="32" height="32" />
            </div>
            <h3 class="card-title">Service Request Status</h3>
            <p class="card-desc">
                Track the progress of your
                submitted service
                requests and view
                resolution updates.
            </p>
            <button class="card-btn primary" id="ServiceRequestBtn">Get Started</button>
        </div>
    </section>
    <section class="section stats">
        <h3 class="stats-title">Service Statistics</h3>
        <div class="stats-row">
            <div class="stats-card">
                <div class="stats-value">@Model.IssuesResolved.ToString("N0")</div>
                <div class="stats-label">Issues Resolved</div>
            </div>
            <div class="stats-card">
                <div class="stats-value">@Model.ActiveRequests</div>
                <div class="stats-label">Active Requests</div>
            </div>
            <div class="stats-card">
                <div class="stats-value">@Model.AverageResponseTime</div>
                <div class="stats-label">Avg Response Time</div>
            </div>
        </div>
    </section>
</main>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var btn = document.getElementById('getStartedBtn');
    if (btn) {
      btn.addEventListener('click', function() {
        window.location.href = '/Issue/Create';
      });
    }
  });
</script>
